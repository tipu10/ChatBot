"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.dataProviderFactory = exports.dataProviderProtocols = void 0;
const dynamodb_data_provider_1 = require("./dynamodb-data-provider");
const local_data_provider_1 = require("./local-data-provider");
exports.dataProviderProtocols = {
    DYNAMO_DB: 'dynamodb',
    FILE: 'file',
};
/** URL examples:
 * dynamodb://my-table.my-region.aws.com
 * postgresql://my-database.my-db-provider.com
 * file://path/to/local/db.json
 */
function dataProviderFactory(url) {
    if (!url) {
        return new local_data_provider_1.LocalDevDataProvider();
    }
    const protocol = url.split('://')[0];
    switch (protocol) {
        case exports.dataProviderProtocols.DYNAMO_DB:
            return new dynamodb_data_provider_1.DynamoDBDataProvider(url);
        case exports.dataProviderProtocols.FILE:
            return new local_data_provider_1.LocalDevDataProvider(url);
        default:
            console.error(`Protocol ${protocol} not implemented, using local DB instead.`);
            return new local_data_provider_1.LocalDevDataProvider();
    }
}
exports.dataProviderFactory = dataProviderFactory;
//# sourceMappingURL=factory.js.map