"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.staticAsset = exports.resolveImage = exports.isURL = exports.isProd = exports.isDev = void 0;
var isDev = process.env.NODE_ENV === 'development';
exports.isDev = isDev;
var isProd = process.env.NODE_ENV === 'production';
exports.isProd = isProd;

var staticAsset = function staticAsset(path) {
  try {
    if (isURL(path)) return path; // Webpack 5 >= fully resolves absolute path to assets

    var scriptBaseURL = document.querySelector('script[src$="webchat.botonic.js"]').getAttribute('src');
    var scriptName = scriptBaseURL.split('/').pop();
    var basePath = scriptBaseURL.replace('/' + scriptName, '/');
    return basePath + path;
  } catch (e) {
    console.error("Could not resolve path: '".concat(path, "'"));
    return path;
  }
};

exports.staticAsset = staticAsset;

var resolveImage = function resolveImage(src) {
  if (isURL(src)) return src;
  return staticAsset(src);
};

exports.resolveImage = resolveImage;

var isURL = function isURL(urlPath) {
  // @stephenhay (38 chars) from: https://mathiasbynens.be/demo/url-regex
  var pattern = new RegExp(/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/);
  return !!pattern.test(urlPath);
};

exports.isURL = isURL;
//# sourceMappingURL=environment.js.map