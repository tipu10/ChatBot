"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.mapObject = exports.getProperty = void 0;
exports.strToBool = strToBool;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

/**
 * given an object and a property, returns the property if exists (recursively), else undefined
 * ex:
 * let obj = { a: { b: { c: 5 } } }
 * getProperty(obj, 'a.b.c'), returns 5
 * getProperty(obj, 'a.b.z'), returns undefined
 */
var getProperty = function getProperty(obj, property) {
  if (!property) return undefined;
  var properties = property.split('.');

  for (var i = 0; i < properties.length; i++) {
    var prop = properties[i]; // eslint-disable-next-line no-prototype-builtins

    if (!obj || !obj.hasOwnProperty(prop)) {
      return undefined;
    } else {
      obj = obj[prop];
    }
  }

  return obj;
};

exports.getProperty = getProperty;

function strToBool(string) {
  var regex = /^\s*(true|1|on)\s*$/i;
  string = String(string);
  return regex.test(string);
}

var mapObject = function mapObject(obj) {
  var conversion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (_ref) {
    var _ref2 = (0, _slicedToArray2["default"])(_ref, 2),
        key = _ref2[0],
        value = _ref2[1];

    return [key, value];
  };
  return obj && Object.entries(obj).map(conversion).reduce(function (prev, curr) {
    prev[curr[0]] = curr[1];
    return prev;
  }, {});
};

exports.mapObject = mapObject;
//# sourceMappingURL=objects.js.map