{"version":3,"sources":["../src/node-app.jsx"],"names":["NodeApp","options","bot","ReactBot","renderer","args","renderNode","renderReactActions","map","action","join","input","Object","entries","plugins","_","plugin","id","name","config"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;;;;;IAEaA,O;AACX,mBAAYC,OAAZ,EAAqB;AAAA;;AAAA;AACnB,SAAKC,GAAL,GAAW,IAAIC,kBAAJ;AACTC,MAAAA,QAAQ,EAAE,kBAAAC,IAAI;AAAA,eAAI,KAAI,CAACC,UAAL,CAAgBD,IAAhB,CAAJ;AAAA;AADL,OAENJ,OAFM,EAAX;AAID;;;;;sGAED,iBAAiBI,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACgB,KAAKH,GAAL,CAASK,kBAAT,CAA4BF,IAA5B,CADhB;;AAAA;AAAA,+DAEKG,GAFL,CAES,UAAAC,MAAM;AAAA,yBAAI,kCAAqBA,MAArB,CAAJ;AAAA,iBAFf,EAGKC,IAHL,CAGU,IAHV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;WAMA,eAAML,IAAN,EAAY;AACV,aAAO,KAAKH,GAAL,CAASS,KAAT,CAAeN,IAAf,CAAP;AACD;;;WAED,qBAAY;AACV,aAAOO,MAAM,CAACC,OAAP,CAAe,KAAKX,GAAL,CAASY,OAAxB,EAAiCN,GAAjC,CAAqC,gBAAiB;AAAA;AAAA,YAAfO,CAAe;AAAA,YAAZC,MAAY;;AAC3D,eAAO;AAAEC,UAAAA,EAAE,EAAED,MAAM,CAACC,EAAb;AAAiBC,UAAAA,IAAI,EAAEF,MAAM,CAACE,IAA9B;AAAoCC,UAAAA,MAAM,EAAEH,MAAM,CAACG;AAAnD,SAAP;AACD,OAFM,CAAP;AAGD","sourcesContent":["import { renderToStaticMarkup } from 'react-dom/server'\n\nimport { ReactBot } from './react-bot'\n\nexport class NodeApp {\n  constructor(options) {\n    this.bot = new ReactBot({\n      renderer: args => this.renderNode(args),\n      ...options,\n    })\n  }\n\n  async renderNode(args) {\n    return (await this.bot.renderReactActions(args))\n      .map(action => renderToStaticMarkup(action))\n      .join('\\n')\n  }\n\n  input(args) {\n    return this.bot.input(args)\n  }\n\n  getConfig() {\n    return Object.entries(this.bot.plugins).map(([_, plugin]) => {\n      return { id: plugin.id, name: plugin.name, config: plugin.config }\n    })\n  }\n}\n"],"file":"node-app.js"}